<h1 align="center"> /CopyPaste\ </h1>

## Возможности
- Чтение всех записей
- Регистрация новых пользователей с подтверждением по электронной почте (реализовано с помощью gmail)
- Создание новых записей (только после авторизации)
- Редактирование своих записей (ROLE_ADMIN может редактировать все записи)
- Удаление своих записей (ROLE_ADMIN может удалять все записи)
- Дата записи, автор и ID записываются в БД автоматически
## Установка
В проекте используется Java 17. Создайте базу данных PostgreSQL, переменные окружения DB_NAME, DB_LOGIN, DB_PASSWORD, MAIL_USERNAME, MAIL_PASSWORD.
Запустите jar файл командой:
```
java -jar CopyPaste.jar
```

## Методы
Все методы начинаются с localhost:8080/api/v1/

| URL | Метод | Назначение | Доступ |
| --- | --- | --- | --- |
| author | GET | Список всех пользователей | ADMIN |
| author/new-author| POST | Создание нового пользователя | Без авторизации |
| author/{username}| GET | Найти все записи автора | AUTHOR, ADMIN |
| author/confirm/{token} | GET | Подтверждение токена эл. почты | Без авторизации |
| paste | GET | Отображение всех записей | Без авторизации |
| paste/add | POST | Добавить запись | AUTHOR, ADMIN |
| paste/{id} | GET | Отобразить конкретную запись по ID | AUTHOR, ADMIN |
| paste/delete/{id} | DELETE | Удалить запись | ADMIN (все), AUTHOR (только свои) |
| paste/update | UPDATE | Изменить запись | ADMIN (все), AUTHOR (только свои) |
